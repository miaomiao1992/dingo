Optional syntax tree layer recommended as a Participle-based service that advanced preprocessors can invoke when regex transforms become brittle. Integrate it lazily via a feature flag, starting with pattern matching, and migrate additional passes once performance (expected +10â€‘20ms/file) is validated. Benefits include clearer diagnostics, safer nested syntax handling, and reduced maintenance risk versus continuing regex-only expansions. Details: /Users/jack/mag/dingo/ai-docs/sessions/20251118-165234/output/analysis.md