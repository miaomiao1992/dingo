---
// Fetch real Dingo examples and pass to React App
import App from '../components/react/App';
import '../styles/tailwind-v4.css';
import '../styles/nav-classes.css'; // Explicit navigation classes for Tailwind v4
import { getCollection } from 'astro:content';

// Fetch all golden examples
const allExamples = await getCollection('golden-examples');

// Sort by order
const sortedExamples = allExamples.sort((a, b) => a.data.order - b.data.order);

// Format for React App component (matching the structure it expects)
const formattedExamples = sortedExamples.map((example, index) => ({
  id: index + 1,
  title: example.data.title,
  language: 'go', // Dingo transpiles to Go
  description: example.data.description || `## ${example.data.category}\n\nExample showing ${example.data.title.toLowerCase()}.`,
  before: example.data.dingoCode,
  after: example.data.goCode,
  // New metadata from frontmatter
  category: example.data.category,
  subcategory: example.data.subcategory,
  summary: example.data.summary,
  complexity: example.data.complexity,
  reasoning: example.data.reasoning,
}));
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Primary Meta Tags -->
  <title>Dingo - A Meta-Language for Go</title>
  <meta name="title" content="Dingo - A meta-language for Go" />
  <meta name="description" content="Write better Go code with Result types, pattern matching, error propagation, and more. Dingo transpiles to idiomatic Go." />
  <link rel="canonical" href="https://dingolang.com/" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://dingolang.com/" />
  <meta property="og:title" content="Dingo - A meta-language for Go" />
  <meta property="og:description" content="Write better Go code with Result types, pattern matching, error propagation, and more. Transpiles to idiomatic Go." />
  <meta property="og:image" content="https://dingolang.com/og-image.png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:site_name" content="Dingo Lang" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:url" content="https://dingolang.com/" />
  <meta name="twitter:title" content="Dingo - A meta-language for Go" />
  <meta name="twitter:description" content="Write better Go code with Result types, pattern matching, error propagation, and more. Transpiles to idiomatic Go." />
  <meta name="twitter:image" content="https://dingolang.com/og-image.png" />
</head>
<body>
  <!-- Pass real Dingo examples to React App -->
  <App examples={formattedExamples} client:load />
</body>
</html>
