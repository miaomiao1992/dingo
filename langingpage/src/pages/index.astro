---
// Fetch real Dingo examples and pass to React App
import App from '../components/react/App';
import '../styles/tailwind-v4.css';
import '../styles/nav-classes.css'; // Explicit navigation classes for Tailwind v4
import { getCollection } from 'astro:content';

// Fetch all golden examples
const allExamples = await getCollection('golden-examples');

// Sort by order
const sortedExamples = allExamples.sort((a, b) => a.data.order - b.data.order);

// Format for React App component (matching the structure it expects)
const formattedExamples = sortedExamples.map((example, index) => ({
  id: index + 1,
  title: example.data.title,
  language: 'go', // Dingo transpiles to Go
  description: example.data.reasoning || example.data.description || `## ${example.data.category}\n\nExample showing ${example.data.title.toLowerCase()}.`,
  before: example.data.dingoCode,
  after: example.data.goCode,
  // New metadata from frontmatter
  category: example.data.category,
  subcategory: example.data.subcategory,
  summary: example.data.summary,
  complexity: example.data.complexity,
}));
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dingo - A Meta-Language for Go</title>
  <meta name="description" content="Dingo is a meta-language for Go with Result types, pattern matching, and error propagation" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
</head>
<body>
  <!-- Pass real Dingo examples to React App -->
  <App examples={formattedExamples} client:load />
</body>
</html>
