package main

// Test: Higher-order functions with lambdas
// Feature: Lambdas as function arguments
// Complexity: advanced

func apply(x int, f func(int) int) int {
	return f(x)
}

func compose(f func(int) int, g func(int) int) func(int) int {
	return |x: int| -> int { f(g(x)) }
}

func main() {
	// Pass lambda to function
	result := apply(10, |x: int| -> int { x * 2 })
	println("Applied:", result)

	// Compose functions
	double := |x: int| -> int { x * 2 }
	addOne := |x: int| -> int { x + 1 }
	doubleAndAdd := compose(addOne, double)

	println("Composed:", doubleAndAdd(5))
}
