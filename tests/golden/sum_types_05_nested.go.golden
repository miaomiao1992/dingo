package main

import (
	"errors"
)

const (
	variantsTagOk variantsTag = iota
	variantsTagErr
)

type variants struct {
	tag variantsTag
	ok  *Value
	err *error
}

func variantsOk(arg0 Value) variants {
	return variants{tag: variantsTagOk, ok: &arg0}
}
func variantsErr(arg0 error) variants {
	return variants{tag: variantsTagErr, err: &arg0}
}
func (e variants) IsOk() bool {
	return e.tag == variantsTagOk
}
func (e variants) IsErr() bool {
	return e.tag == variantsTagErr
}

type ValueTag uint8

const (
	ValueTagInt ValueTag = iota
	ValueTagString
	ValueTagNone
)

type Value struct {
	tag    ValueTag
	int    *int
	string *string
}
func ValueInt(arg0 int) Value {
	return Value{tag: ValueTagInt, int: &arg0}
}
func ValueString(arg0 string) Value {
	return Value{tag: ValueTagString, string: &arg0}
}
func ValueNone() Value {
	return Value{tag: ValueTagNone}
}
func (e Value) IsInt() bool {
	return e.tag == ValueTagInt
}
func (e Value) IsString() bool {
	return e.tag == ValueTagString
}
func (e Value) IsNone() bool {
	return e.tag == ValueTagNone
}
func parseInt(s string) Result {
	if s == "" {
		return ResultErr(errors.New("empty string"))
	}
	if s == "null" {
		return ResultOk(Value_None())
	}
	return ResultOk(Value_String(s))
}
func main() {
	result := parseInt("hello")
	if result.IsOk() {
		value := *result.ok
		if value.IsString() {
			println("String:", *value.string_0)
		}
	}
}
