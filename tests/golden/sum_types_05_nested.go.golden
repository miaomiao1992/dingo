package main

import (
	"errors"
)

const (
	variantsTag_Ok variantsTag = iota
	variantsTag_Err
)

type variants struct {
	tag   variantsTag
	ok_0  *Value
	err_0 *error
}

func variants_Ok(arg0 Value) variants {
	return variants{tag: variantsTag_Ok, ok_0: &arg0}
}
func variants_Err(arg0 error) variants {
	return variants{tag: variantsTag_Err, err_0: &arg0}
}
func (e variants) IsOk() bool {
	return e.tag == variantsTag_Ok
}
func (e variants) IsErr() bool {
	return e.tag == variantsTag_Err
}

type ValueTag uint8

const (
	ValueTag_Int ValueTag = iota
	ValueTag_String
	ValueTag_None
)

type Value struct {
	tag      ValueTag
	int_0    *int
	string_0 *string
}
func Value_Int(arg0 int) Value {
	return Value{tag: ValueTag_Int, int_0: &arg0}
}
func Value_String(arg0 string) Value {
	return Value{tag: ValueTag_String, string_0: &arg0}
}
func Value_None() Value {
	return Value{tag: ValueTag_None}
}
func (e Value) IsInt() bool {
	return e.tag == ValueTag_Int
}
func (e Value) IsString() bool {
	return e.tag == ValueTag_String
}
func (e Value) IsNone() bool {
	return e.tag == ValueTag_None
}
func parseInt(s string) Result {
	if s == "" {
		return Result_Err(errors.New("empty string"))
	}
	if s == "null" {
		return Result_Ok(Value_None())
	}
	return Result_Ok(Value_String(s))
}
func main() {
	result := parseInt("hello")
	if result.IsOk() {
		value := *result.ok_0
		if value.IsString() {
			println("String:", *value.string_0)
		}
	}
}
