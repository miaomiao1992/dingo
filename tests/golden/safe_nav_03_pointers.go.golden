package main

type User struct {
	name    string
	address *Address
}
type Address struct {
	street string
	city   *City
}
type City struct {
	name    string
	zipcode int
}

func getUser(id int) *User {
	if id > 0 {
		city := &City{name: "New York", zipcode: 10001}
		addr := &Address{street: "5th Ave", city: city}
		return &User{name: "Bob", address: addr}
	}
	return nil
}
func main() {

	user := getUser(1)
	cityName := __SAFE_NAV_INFER__(user, "address", "city", "name")
	println("City:", cityName)

	nilUser := getUser(0)
	nilCity := __SAFE_NAV_INFER__(nilUser, "address", "city", "name")
	println("Nil City:", nilCity)

	if user != nil {
		name := __SAFE_NAV_INFER__(user, "name")
		println("Name:", name)
	}
}
