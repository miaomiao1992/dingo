package main

// Test: Basic pattern guards with 'if' keyword
// Feature: Pattern matching with runtime guard conditions
// Complexity: basic

enum Result {
	Ok(int),
	Err(error),
}

// Simple guard on Result type
func classifyNumber(result Result) string {
	return match result {
		ResultOk(x) if x > 0 => "positive",
		ResultOk(x) if x < 0 => "negative",
		ResultOk(_) => "zero",
		ResultErr(e) => "error",
	}
}

// Guard with multiple conditions
func validateAge(result Result) string {
	return match result {
		ResultOk(age) if age >= 18 && age < 65 => "adult",
		ResultOk(age) if age >= 65 => "senior",
		ResultOk(_) => "minor",
		ResultErr(_) => "invalid",
	}
}

// Guard with function call
func checkLength(result Result) string {
	return match result {
		ResultOk(n) if isEven(n) => "even",
		ResultOk(_) => "odd",
		ResultErr(_) => "error",
	}
}

func isEven(n int) bool {
	return n%2 == 0
}

func main() {
	println(classifyNumber(ResultOk(42)))
	println(validateAge(ResultOk(25)))
	println(checkLength(ResultOk(10)))
}
