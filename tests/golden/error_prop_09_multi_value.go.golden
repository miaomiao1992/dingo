package main

import (
	"fmt"
	"strconv"
	"strings"
)

// parseUserData demonstrates multi-value return with error propagation
// Input: "john:admin:42" â†’ (name, role, age)
func parseUserData(input string) (string, string, int, error) {
	tmp, tmp1, tmp2, err := extractUserFields(input)
	// dingo:e:0
	if err != nil {
		return "", "", 0, err
	}
	return tmp, tmp1, tmp2, nil
}

// extractUserFields simulates a function that returns multiple values
func extractUserFields(data string) (string, string, int, error) {
	parts := strings.Split(data, ":")
	if len(parts) != 3 {
		return "", "", 0, fmt.Errorf("invalid format")
	}

	tmp, err := strconv.Atoi(parts[2])
	// dingo:e:1
	if err != nil {
		return "", "", 0, fmt.Errorf("invalid age: %w", err)
	}
	var age = tmp
	return parts[0], parts[1], age, nil
}
func main() {
	name, role, age, err := parseUserData("john:admin:42")
	if err != nil {
		panic(err)
	}

	println("Name:", name)
	println("Role:", role)
	println("Age:", age)
}
