package main

type OptionTag uint8

const (
	OptionTag_Some OptionTag = iota
	OptionTag_None
)

type Option struct {
	tag    OptionTag
	some_0 *string
}

func Option_Some(arg0 string) Option {
	return Option{tag: OptionTag_Some, some_0: &arg0}
}
func Option_None() Option {
	return Option{tag: OptionTag_None}
}
func (e Option) IsSome() bool {
	return e.tag == OptionTag_Some
}
func (e Option) IsNone() bool {
	return e.tag == OptionTag_None
}
func findUser(id int) Option {
	if id > 0 {
		return Option_Some("User" + string(rune(id)))
	}
	return Option_None()
}
func getUserOrDefault(id int) string {
	user := findUser(id)
	switch user.tag {
	case OptionTag_Some:
		name := *user.some_0
		return name
	case OptionTag_None:
		return "Anonymous"
	default:
		panic("unreachable: match should be exhaustive")
	}
}
func main() {
	name1 := getUserOrDefault(42)
	println("User 1:", name1)
	name2 := getUserOrDefault(-1)
	println("User 2:", name2)
}
