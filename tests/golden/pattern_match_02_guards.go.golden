package main

type ValueTag uint8

const (
	ValueTagInt ValueTag = iota
	ValueTagString
)

type Value struct {
	tag      ValueTag
	int    *int
	string *string
}

func Value_Int(arg0 int) Value {
	return Value{tag: ValueTagInt, int: &arg0}
}
func Value_String(arg0 string) Value {
	return Value{tag: ValueTagString, string: &arg0}
}
func (e Value) IsInt() bool {
	return e.tag == ValueTagInt
}
func (e Value) IsString() bool {
	return e.tag == ValueTagString
}
func describe(v Value) string {
	var result interface{}

	scrutinee := v
	switch scrutinee.tag {
	case ValueTagInt:
		n := *scrutinee.int

		if n > 0 {
			result = "Positive number"

		} else if n < 0 {
			result = "Negative number"

		} else {
			result = "Zero"
		}
	case ValueTagString:
		s := *scrutinee.string

		if len(s) > 5 {
			result = "Long string"

		} else {
			result = "Short string"
		}
	}
	panic("unreachable: match is exhaustive")
	return result

}
func main() {
	val1 := Value_Int(42)
	val2 := Value_String("hello world")

	println(describe(val1))
	println(describe(val2))
}
