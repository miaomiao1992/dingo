package main

import "errors"

// Test: Wildcard patterns in tuples - catch-all semantics
// Feature: Tuple pattern destructuring - wildcards
// Complexity: intermediate

enum Result {
	Ok(int),
	Err(error),
}

func analyzeResults(r1 Result, r2 Result, r3 Result) string {
	return match (r1, r2, r3) {
		(Ok(x), Ok(y), Ok(z)) => "All succeeded: sum = " + string(x+y+z),
		(Ok(_), Ok(_), Err(e)) => "First two ok, third failed: " + e.Error(),
		(Err(e), _, _) => "First failed immediately: " + e.Error(),
		(_, Err(e), _) => "Second failed: " + e.Error(),
		(_, _, Err(e)) => "Third failed: " + e.Error()
	}
}

func main() {
	r1 := ResultOk(10)
	r2 := ResultErr(errors.New("database error"))
	r3 := ResultOk(30)
	result := analyzeResults(r1, r2, r3)
	println(result)
}
