package main

import "errors"

// Test: Nested pattern matching
// Feature: Match with nested enum patterns
// Complexity: advanced

enum Result {
	Ok(Value),
	Err(error),
}

enum Value {
	Int(int),
	String(string),
}

func processResult(r Result) string {
	return match r {
		ResultOk(Value_Int(n)) => "Got integer: " + string(n),
		ResultOk(Value_String(s)) => "Got string: " + s,
		ResultErr(e) => "Error: " + e.Error(),
	}
}

func main() {
	result1 := ResultOk(Value_Int(42))
	result2 := ResultOk(Value_String("hello"))
	result3 := ResultErr(errors.New("failed"))

	println(processResult(result1))
	println(processResult(result2))
	println(processResult(result3))
}
