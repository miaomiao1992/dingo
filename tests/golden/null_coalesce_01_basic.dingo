package main

// Test: Basic null coalescing with simple cases (inline optimization)
// Feature: Null coalescing (??)
// Complexity: basic

enum StringOption {
	Some(string),
	None,
}

enum IntOption {
	Some(int),
	None,
}

func main() {
	// Test 1: Simple identifier ?? literal (inline optimization)
	let name: StringOption = getUserName()
	let displayName = name ?? "Guest"

	// Test 2: Simple identifier ?? identifier
	let fallback: StringOption = StringOptionSome("Default")
	let result = name ?? fallback

	// Test 3: Option<int> ?? literal
	let count: IntOption = getCount()
	let finalCount = count ?? 0

	// Test 4: Multiple separate ?? operations
	let firstName: StringOption = StringOptionNone()
	let firstDisplay = firstName ?? "Anonymous"

	let age: IntOption = IntOptionNone()
	let ageDisplay = age ?? 18
}

func getUserName() StringOption {
	return StringOptionNone()
}

func getCount() IntOption {
	return IntOptionSome(42)
}
