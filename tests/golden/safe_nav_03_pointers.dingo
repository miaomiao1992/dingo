package main

// Test: Safe navigation with raw Go pointers
// Feature: Safe Navigation (?.) - Pointer Support
// Complexity: intermediate

type User struct {
	name    string
	address *Address
}

type Address struct {
	street string
	city   *City
}

type City struct {
	name    string
	zipcode int
}

func getUser(id int) *User {
	if id > 0 {
		city := &City{name: "New York", zipcode: 10001}
		addr := &Address{street: "5th Ave", city: city}
		return &User{name: "Bob", address: addr}
	}
	return nil
}

func main() {
	// Test 1: Full pointer chain
	user := getUser(1)
	cityName := user?.address?.city?.name
	println("City:", cityName)

	// Test 2: Nil pointer chain
	nilUser := getUser(0)
	nilCity := nilUser?.address?.city?.name
	println("Nil City:", nilCity)

	// Test 3: Single level access
	if user != nil {
		name := user?.name
		println("Name:", name)
	}
}
