package main

// Test: Basic pattern matching
// Feature: Pattern matching with match expression
// Complexity: basic

// dingo:n:0
type StatusTag uint8

const (
	StatusTagPending StatusTag = iota
	StatusTagActive
	StatusTagComplete
)

type Status struct {
	tag StatusTag
}

func StatusPending() Status {
	return Status{tag: StatusTagPending}
}
func StatusActive() Status {
	return Status{tag: StatusTagActive}
}
func StatusComplete() Status {
	return Status{tag: StatusTagComplete}
}
func (e Status) IsPending() bool {
	return e.tag == StatusTagPending
}
func (e Status) IsActive() bool {
	return e.tag == StatusTagActive
}
func (e Status) IsComplete() bool {
	return e.tag == StatusTagComplete
}
func getStatusMessage(s Status) string {
	var result interface{}
	// DINGO_MATCH_START: s
	scrutinee := s
	switch scrutinee.tag {
	case StatusTagPending:
		// DINGO_PATTERN: Status_Pending
		result = "Waiting to start"
	case StatusTagActive:
		// DINGO_PATTERN: Status_Active
		result = "Currently running"
	case StatusTagComplete:
		// DINGO_PATTERN: Status_Complete
		result = "Finished"
	}
	panic("unreachable: match is exhaustive")
	return result
	// DINGO_MATCH_END

}
func main() {
	status := Status_Active()
	msg := getStatusMessage(status)
	println(msg)
}
