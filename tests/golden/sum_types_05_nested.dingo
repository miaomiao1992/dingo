package main

import "errors"

// Test: Nested sum types
// Feature: Sum types with nested enum variants
// Complexity: advanced

enum Result {
	Ok(Value),
	Err(error),
}

enum Value {
	Int(int),
	String(string),
	None,
}

func parseInt(s string) Result {
	if s == "" {
		return Result_Err(errors.New("empty string"))
	}
	if s == "null" {
		return Result_Ok(Value_None())
	}
	return Result_Ok(Value_String(s))
}

func main() {
	result := parseInt("hello")
	if result.IsOk() {
		value := *result.ok
		if value.IsString() {
			println("String:", *value.string_0)
		}
	}
}
